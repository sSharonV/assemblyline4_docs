<!-- Elements added to main will be displayed on all pages -->

<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
      <link rel="icon" href="../../../../images/crane.png">
      <meta name="generator" content="mkdocs-1.2.3, mkdocs-material-7.3.6">
    
    
      
        <title>Authentication section - Assemblyline 4</title>
      
    
    
      <link rel="stylesheet" href="../../../../assets/stylesheets/main.a57b2b03.min.css">
      
        
        <link rel="stylesheet" href="../../../../assets/stylesheets/palette.3f5d1f46.min.css">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
      <link rel="stylesheet" href="../../../../stylesheets/extra.css">
    
    
      


    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="" data-md-color-accent="">
  
    
    <script>function __prefix(e){return new URL("../../../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
      <script>var palette=__get("__palette");if(null!==palette&&"object"==typeof palette.color)for(var key in palette.color)document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#authentication-section" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../.." title="Assemblyline 4" class="md-header__button md-logo" aria-label="Assemblyline 4" data-md-component="logo">
      
  <img src="../../../../images/crane.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Assemblyline 4
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Authentication section
            
          </span>
        </div>
      </div>
    </div>
    
      <form class="md-header__option" data-md-component="palette">
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
          
            <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_2" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6zm0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4zM7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"/></svg>
            </label>
          
        
          
          
          <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="" data-md-color-accent=""  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_2">
          
            <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3z"/></svg>
            </label>
          
        
      </form>
    
    
      <div class="md-header__option">
        <div class="md-select">
          
          <button class="md-header__button md-icon" aria-label="Select language">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.52 17.52 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04M18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12m-2.62 7 1.62-4.33L19.12 17h-3.24z"/></svg>
          </button>
          <div class="md-select__inner">
            <ul class="md-select__list">
              
                <li class="md-select__item">
                  <a href="./" hreflang="en" class="md-select__link">
                    English
                  </a>
                </li>
                
                <li class="md-select__item">
                  <a href="../../../../fr/installation/configuration/authentication/" hreflang="fr" class="md-select__link">
                    Fran√ßais
                  </a>
                </li>
                
            </ul>
          </div>
        </div>
      </div>
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/CybercentreCanada/assemblyline4_docs/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  <li class="md-tabs__item">
    <a href="../../../" class="md-tabs__link">
      Home
    </a>
  </li>

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../overview/how_it_works/" class="md-tabs__link">
        Overview
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../user_manual/submitting_file/" class="md-tabs__link">
        User's manual
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../deployment/" class="md-tabs__link md-tabs__link--active">
        Installation
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../administration/signature_management/" class="md-tabs__link">
        Administration
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../../integration/ingestion_method/" class="md-tabs__link">
        Integration
      </a>
    </li>
  

      
        
  
  


  
  
  
    

  
  
  
    <li class="md-tabs__item">
      <a href="../../../developer_manual/env/getting_started/" class="md-tabs__link">
        Developer's guide
      </a>
    </li>
  

  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../.." title="Assemblyline 4" class="md-nav__button md-logo" aria-label="Assemblyline 4" data-md-component="logo">
      
  <img src="../../../../images/crane.png" alt="logo">

    </a>
    Assemblyline 4
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/CybercentreCanada/assemblyline4_docs/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 496 512"><path d="M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../" class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" data-md-state="indeterminate" type="checkbox" id="__nav_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_2">
          Overview
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Overview" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Overview
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../overview/how_it_works/" class="md-nav__link">
        How it works
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../overview/services/" class="md-nav__link">
        Assemblyline services
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../overview/community_services/" class="md-nav__link">
        Community services
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" data-md-state="indeterminate" type="checkbox" id="__nav_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_3">
          User's manual
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="User's manual" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          User's manual
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user_manual/submitting_file/" class="md-nav__link">
        Submitting a file for analysis
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user_manual/results/" class="md-nav__link">
        Assemblyline results
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../user_manual/searching/" class="md-nav__link">
        Searching
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4" type="checkbox" id="__nav_4" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_4">
          Installation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Installation" data-md-level="1">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          Installation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../deployment/" class="md-nav__link">
        Choose your deployment type
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../appliance_docker/" class="md-nav__link">
        Appliance installation (Docker)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../appliance/" class="md-nav__link">
        Appliance installation (MicroK8s)
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../cluster/" class="md-nav__link">
        Cluster installation
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_4_5" type="checkbox" id="__nav_4_5" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_4_5">
          Configuration
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Configuration" data-md-level="2">
        <label class="md-nav__title" for="__nav_4_5">
          <span class="md-nav__icon md-icon"></span>
          Configuration
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../config_file/" class="md-nav__link">
        Configuration YAML file
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Authentication section
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Authentication section
      </a>
      
        


<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#parameter-definitions" class="md-nav__link">
    Parameter definitions
  </a>
  
    <nav class="md-nav" aria-label="Parameter definitions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#internal-authenticator" class="md-nav__link">
    Internal authenticator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ldap-authentication" class="md-nav__link">
    LDAP Authentication
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#oauth-authentication" class="md-nav__link">
    OAuth Authentication
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../core/" class="md-nav__link">
        Core component section
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../datasources/" class="md-nav__link">
        Data sources section
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../datastore/" class="md-nav__link">
        Database section
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../filestore/" class="md-nav__link">
        File storage section
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../logging/" class="md-nav__link">
        Logging section
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../services/" class="md-nav__link">
        Service section
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../submission/" class="md-nav__link">
        Submission section
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../system/" class="md-nav__link">
        System section
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../ui/" class="md-nav__link">
        User Interface section
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../classification_engine/" class="md-nav__link">
        Classification engine
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../monitoring/" class="md-nav__link">
        Monitoring with ELK
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_5" data-md-state="indeterminate" type="checkbox" id="__nav_5" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_5">
          Administration
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Administration" data-md-level="1">
        <label class="md-nav__title" for="__nav_5">
          <span class="md-nav__icon md-icon"></span>
          Administration
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../administration/signature_management/" class="md-nav__link">
        Signature Management
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../administration/source_management/" class="md-nav__link">
        Signature Source Management
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../administration/service_management/" class="md-nav__link">
        Service management
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../administration/system_safelist/" class="md-nav__link">
        System safelist
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../administration/user_management/" class="md-nav__link">
        User Management
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../administration/troubleshooting/" class="md-nav__link">
        Troubleshooting / FAQ
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_6" data-md-state="indeterminate" type="checkbox" id="__nav_6" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_6">
          Integration
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Integration" data-md-level="1">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Integration
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../integration/ingestion_method/" class="md-nav__link">
        Choosing your ingestion method
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../integration/key_generation/" class="md-nav__link">
        Generating an API key
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../integration/python/" class="md-nav__link">
        Python Client
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../integration/java/" class="md-nav__link">
        Java Client
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../integration/rest/" class="md-nav__link">
        RESTful API
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7" data-md-state="indeterminate" type="checkbox" id="__nav_7" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_7">
          Developer's guide
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Developer's guide" data-md-level="1">
        <label class="md-nav__title" for="__nav_7">
          <span class="md-nav__icon md-icon"></span>
          Developer's guide
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_1" data-md-state="indeterminate" type="checkbox" id="__nav_7_1" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_7_1">
          Setup Environment
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Setup Environment" data-md-level="2">
        <label class="md-nav__title" for="__nav_7_1">
          <span class="md-nav__icon md-icon"></span>
          Setup Environment
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../developer_manual/env/getting_started/" class="md-nav__link">
        Getting Started
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_1_2" data-md-state="indeterminate" type="checkbox" id="__nav_7_1_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_7_1_2">
          VSCode
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="VSCode" data-md-level="3">
        <label class="md-nav__title" for="__nav_7_1_2">
          <span class="md-nav__icon md-icon"></span>
          VSCode
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../developer_manual/env/vscode/setup_script/" class="md-nav__link">
        Setup script
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../developer_manual/env/vscode/use_vscode/" class="md-nav__link">
        Use VSCode
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_1_3" data-md-state="indeterminate" type="checkbox" id="__nav_7_1_3" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_7_1_3">
          Pycharm
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Pycharm" data-md-level="3">
        <label class="md-nav__title" for="__nav_7_1_3">
          <span class="md-nav__icon md-icon"></span>
          Pycharm
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../developer_manual/env/pycharm/local_development/" class="md-nav__link">
        Local development
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../developer_manual/env/pycharm/remote_development/" class="md-nav__link">
        Remote development
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../developer_manual/env/pycharm/use_pycharm/" class="md-nav__link">
        Use PyCharm
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_2" data-md-state="indeterminate" type="checkbox" id="__nav_7_2" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_7_2">
          Services
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Services" data-md-level="2">
        <label class="md-nav__title" for="__nav_7_2">
          <span class="md-nav__icon md-icon"></span>
          Services
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../developer_manual/services/developing_an_assemblyline_service/" class="md-nav__link">
        Developing a service
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../developer_manual/services/adding_a_service_updater/" class="md-nav__link">
        Adding a Service Updater
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../developer_manual/services/run_your_service/" class="md-nav__link">
        Run your service
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_7_2_4" data-md-state="indeterminate" type="checkbox" id="__nav_7_2_4" checked>
      
      
      
      
        <label class="md-nav__link" for="__nav_7_2_4">
          Advanced development
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" aria-label="Advanced development" data-md-level="3">
        <label class="md-nav__title" for="__nav_7_2_4">
          <span class="md-nav__icon md-icon"></span>
          Advanced development
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../developer_manual/services/advanced/service_base/" class="md-nav__link">
        ServiceBase Class
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../developer_manual/services/advanced/service_updater_base/" class="md-nav__link">
        ServiceUpdater Class
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../developer_manual/services/advanced/request/" class="md-nav__link">
        Request Class
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../developer_manual/services/advanced/result/" class="md-nav__link">
        Result Class
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../developer_manual/services/advanced/result_section/" class="md-nav__link">
        ResultSection Class
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../developer_manual/services/advanced/service_manifest/" class="md-nav__link">
        Service manifest
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../developer_manual/services/advanced/service_updater_upgrade/" class="md-nav__link">
        How-to: Upgrade Service Updater for Assemblyline 4.1+
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../developer_manual/core/infrastructure/" class="md-nav__link">
        Infrastructure
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../developer_manual/frontend/frontend/" class="md-nav__link">
        Frontend
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../developer_manual/docs/docs/" class="md-nav__link">
        Documentation
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#parameter-definitions" class="md-nav__link">
    Parameter definitions
  </a>
  
    <nav class="md-nav" aria-label="Parameter definitions">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#internal-authenticator" class="md-nav__link">
    Internal authenticator
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ldap-authentication" class="md-nav__link">
    LDAP Authentication
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#oauth-authentication" class="md-nav__link">
    OAuth Authentication
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/CybercentreCanada/assemblyline4_docs/edit/master/docs/installation/configuration/authentication.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="authentication-section">Authentication section<a class="headerlink" href="#authentication-section" title="Permanent link">&para;</a></h1>
<p>Assemblyline comes with a built-in user management database, so no external identity sources are required.
However, to facilitate user management in larger organizations you can integrate Assemblyline with external identity providers.</p>
<p>The authentication section (<code>auth:</code>) of the configuration files contains all the different parameters that you can change to turn on/off the different authentication features that Assemblyline supports.</p>
<details class="info">
<summary>Default values for the authentication section</summary>
<div class="highlight"><pre><span></span><code><span class="nn">...</span><span class="w"></span>
<span class="nt">auth</span><span class="p">:</span><span class="w"></span>
<span class="w">  </span><span class="nt">allow_2fa</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">  </span><span class="nt">allow_apikeys</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">  </span><span class="nt">allow_extended_apikeys</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">  </span><span class="nt">allow_security_tokens</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">  </span><span class="nt">internal</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">    </span><span class="nt">failure_ttl</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">60</span><span class="w"></span>
<span class="w">    </span><span class="nt">max_failures</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5</span><span class="w"></span>
<span class="w">    </span><span class="nt">password_requirements</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">lower</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span><span class="w"></span>
<span class="w">      </span><span class="nt">min_length</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">12</span><span class="w"></span>
<span class="w">      </span><span class="nt">number</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span><span class="w"></span>
<span class="w">      </span><span class="nt">special</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span><span class="w"></span>
<span class="w">      </span><span class="nt">upper</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span><span class="w"></span>
<span class="w">    </span><span class="nt">signup</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span><span class="w"></span>
<span class="w">      </span><span class="nt">notify</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="nt">activated_template</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span><span class="w"></span>
<span class="w">        </span><span class="nt">api_key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span><span class="w"></span>
<span class="w">        </span><span class="nt">authorization_template</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span><span class="w"></span>
<span class="w">        </span><span class="nt">base_url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span><span class="w"></span>
<span class="w">        </span><span class="nt">password_reset_template</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span><span class="w"></span>
<span class="w">        </span><span class="nt">registration_template</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span><span class="w"></span>
<span class="w">      </span><span class="nt">smtp</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="nt">from_adr</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span><span class="w"></span>
<span class="w">        </span><span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span><span class="w"></span>
<span class="w">        </span><span class="nt">password</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span><span class="w"></span>
<span class="w">        </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">587</span><span class="w"></span>
<span class="w">        </span><span class="nt">tls</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">        </span><span class="nt">user</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span><span class="w"></span>
<span class="w">      </span><span class="nt">valid_email_patterns</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">.*</span><span class="w"></span>
<span class="w">      </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">.*@localhost</span><span class="w"></span>
<span class="w">  </span><span class="nt">ldap</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">admin_dn</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span><span class="w"></span>
<span class="w">    </span><span class="nt">auto_create</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">    </span><span class="nt">auto_sync</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">    </span><span class="nt">base</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ou=people,dc=assemblyline,dc=local</span><span class="w"></span>
<span class="w">    </span><span class="nt">bind_pass</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span><span class="w"></span>
<span class="w">    </span><span class="nt">bind_user</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span><span class="w"></span>
<span class="w">    </span><span class="nt">classification_mappings</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{}</span><span class="w"></span>
<span class="w">    </span><span class="nt">email_field</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mail</span><span class="w"></span>
<span class="w">    </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span><span class="w"></span>
<span class="w">    </span><span class="nt">group_lookup_query</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">(&amp;(objectClass=Group)(member=%s))</span><span class="w"></span>
<span class="w">    </span><span class="nt">image_field</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">jpegPhoto</span><span class="w"></span>
<span class="w">    </span><span class="nt">image_format</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">jpeg</span><span class="w"></span>
<span class="w">    </span><span class="nt">name_field</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cn</span><span class="w"></span>
<span class="w">    </span><span class="nt">signature_importer_dn</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span><span class="w"></span>
<span class="w">    </span><span class="nt">signature_manager_dn</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span><span class="w"></span>
<span class="w">    </span><span class="nt">uid_field</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">uid</span><span class="w"></span>
<span class="w">    </span><span class="nt">uri</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ldap://localhost:389</span><span class="w"></span>
<span class="w">  </span><span class="nt">oauth</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span><span class="w"></span>
<span class="w">    </span><span class="nt">gravatar_enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">    </span><span class="nt">providers</span><span class="p">:</span><span class="w"></span>
<span class="w">      </span><span class="nt">auth0</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="nt">access_token_url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://{TENANT}.auth0.com/oauth/token</span><span class="w"></span>
<span class="w">        </span><span class="nt">api_base_url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://{TENANT}.auth0.com/</span><span class="w"></span>
<span class="w">        </span><span class="nt">authorize_url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://{TENANT}.auth0.com/authorize</span><span class="w"></span>
<span class="w">        </span><span class="nt">client_id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span><span class="w"></span>
<span class="w">        </span><span class="nt">client_kwargs</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">scope</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">openid email profile</span><span class="w"></span>
<span class="w">        </span><span class="nt">client_secret</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span><span class="w"></span>
<span class="w">        </span><span class="nt">jwks_uri</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://{TENANT}.auth0.com/.well-known/jwks.json</span><span class="w"></span>
<span class="w">        </span><span class="nt">user_get</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">userinfo</span><span class="w"></span>
<span class="w">      </span><span class="nt">azure_ad</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="nt">access_token_url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://login.microsoftonline.com/common/oauth2/token</span><span class="w"></span>
<span class="w">        </span><span class="nt">api_base_url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://login.microsoft.com/common/</span><span class="w"></span>
<span class="w">        </span><span class="nt">authorize_url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://login.microsoftonline.com/common/oauth2/authorize</span><span class="w"></span>
<span class="w">        </span><span class="nt">client_id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span><span class="w"></span>
<span class="w">        </span><span class="nt">client_kwargs</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">scope</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">openid email profile</span><span class="w"></span>
<span class="w">        </span><span class="nt">client_secret</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span><span class="w"></span>
<span class="w">        </span><span class="nt">jwks_uri</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://login.microsoftonline.com/common/discovery/v2.0/keys</span><span class="w"></span>
<span class="w">        </span><span class="nt">user_get</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">openid/userinfo</span><span class="w"></span>
<span class="w">      </span><span class="nt">google</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="nt">access_token_url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://oauth2.googleapis.com/token</span><span class="w"></span>
<span class="w">        </span><span class="nt">api_base_url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://openidconnect.googleapis.com/</span><span class="w"></span>
<span class="w">        </span><span class="nt">authorize_url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://accounts.google.com/o/oauth2/v2/auth</span><span class="w"></span>
<span class="w">        </span><span class="nt">client_id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span><span class="w"></span>
<span class="w">        </span><span class="nt">client_kwargs</span><span class="p">:</span><span class="w"></span>
<span class="w">          </span><span class="nt">scope</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">openid email profile</span><span class="w"></span>
<span class="w">        </span><span class="nt">client_secret</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span><span class="w"></span>
<span class="w">        </span><span class="nt">jwks_uri</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://www.googleapis.com/oauth2/v3/certs</span><span class="w"></span>
<span class="w">        </span><span class="nt">user_get</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">v1/userinfo</span><span class="w"></span>
<span class="nn">...</span><span class="w"></span>
</code></pre></div>
</details>
<div class="admonition tip">
<p class="admonition-title">Tip</p>
<p>Refer to the <a href="../config_file/#changing-the-configuration-file">changing the configuration file</a> documentation for more detail on where and how to change the configuration of the system.</p>
</div>
<h2 id="parameter-definitions">Parameter definitions<a class="headerlink" href="#parameter-definitions" title="Permanent link">&para;</a></h2>
<p>The <code>auth</code> configuration block has a few parameters at the top level that help you turn on or off a few security features supported in the system.</p>
<p>Here is an example of a configuration block with those top-level parameters and an explanation of what they do:</p>
<details class="example" open="open">
<summary>Top-level parameters</summary>
<div class="highlight"><pre><span></span><code><span class="nt">auth</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="c1"># Turns on/off two-factor authentication in the system</span><span class="w"></span>
<span class="w">    </span><span class="nt">allow_2fa</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>

<span class="w">    </span><span class="c1"># Turn on/off usage of API Keys in the system</span><span class="w"></span>
<span class="w">    </span><span class="c1">#  NOTE: if you turn this off, this will severely limit API access</span><span class="w"></span>
<span class="w">    </span><span class="nt">allow_apikeys</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>

<span class="w">    </span><span class="c1"># Turn on/off usage of extended API via the API keys</span><span class="w"></span>
<span class="w">    </span><span class="nt">allow_extended_apikeys</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>

<span class="w">    </span><span class="c1"># Turn on/off usage of security token as two-factor authentication (ex: yubikeys)</span><span class="w"></span>
<span class="w">    </span><span class="nt">allow_security_tokens</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
</code></pre></div>
</details>
<h3 id="internal-authenticator">Internal authenticator<a class="headerlink" href="#internal-authenticator" title="Permanent link">&para;</a></h3>
<p>The configuration block at <code>auth.internal</code> allows you to configure the Assemblyline internal authenticator.</p>
<p>Here is an example of a configuration block with inline comments about the purpose of every single parameter:</p>
<details class="example" open="open">
<summary>Internal auth configuration example</summary>
<div class="highlight"><pre><span></span><code><span class="nt">auth</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">internal</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="c1"># Enable or disable the internal authenticator</span><span class="w"></span>
<span class="w">        </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>

<span class="w">        </span><span class="c1"># Time in seconds the user will have to wait after</span><span class="w"></span>
<span class="w">        </span><span class="c1"># too many authentication failures</span><span class="w"></span>
<span class="w">        </span><span class="nt">failure_ttl</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">60</span><span class="w"></span>

<span class="w">        </span><span class="c1"># Number of authentication failures before temporarily</span><span class="w"></span>
<span class="w">        </span><span class="c1"># locking down the user</span><span class="w"></span>
<span class="w">        </span><span class="nt">max_failures</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">5</span><span class="w"></span>

<span class="w">        </span><span class="c1"># Password complexity requirements for the system</span><span class="w"></span>
<span class="w">        </span><span class="nt">password_requirements</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="c1"># Are lowercase characters mandatory?</span><span class="w"></span>
<span class="w">        </span><span class="nt">lower</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span><span class="w"></span>

<span class="w">        </span><span class="c1"># What is the minimal password length</span><span class="w"></span>
<span class="w">        </span><span class="nt">min_length</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">12</span><span class="w"></span>

<span class="w">        </span><span class="c1"># Are numbers mandatory?</span><span class="w"></span>
<span class="w">        </span><span class="nt">number</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span><span class="w"></span>

<span class="w">        </span><span class="c1"># Are special characters mandatory?</span><span class="w"></span>
<span class="w">        </span><span class="nt">special</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span><span class="w"></span>

<span class="w">        </span><span class="c1"># Are uppercase characters mandatory?</span><span class="w"></span>
<span class="w">        </span><span class="nt">upper</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span><span class="w"></span>

<span class="w">        </span><span class="nt">signup</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="c1"># Can a user automatically signup for the system</span><span class="w"></span>
<span class="w">        </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span><span class="w"></span>

<span class="w">        </span><span class="c1"># Configuration block for GC Notify signup and password reset</span><span class="w"></span>
<span class="w">        </span><span class="c1"># see: https://notification.canada.ca/</span><span class="w"></span>
<span class="w">        </span><span class="nt">notify</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="nt">activated_template</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span><span class="w"></span>
<span class="w">            </span><span class="nt">api_key</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span><span class="w"></span>
<span class="w">            </span><span class="nt">authorization_template</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span><span class="w"></span>
<span class="w">            </span><span class="nt">base_url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span><span class="w"></span>
<span class="w">            </span><span class="nt">password_reset_template</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span><span class="w"></span>
<span class="w">            </span><span class="nt">registration_template</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span><span class="w"></span>

<span class="w">        </span><span class="c1"># Configuration block for SMTP signup and password reset</span><span class="w"></span>
<span class="w">        </span><span class="nt">smtp</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="c1"># Email address used for sender</span><span class="w"></span>
<span class="w">            </span><span class="nt">from_adr</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span><span class="w"></span>

<span class="w">            </span><span class="c1"># Host of the SMTP server</span><span class="w"></span>
<span class="w">            </span><span class="nt">host</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span><span class="w"></span>

<span class="w">            </span><span class="c1"># Password for the SMTP server</span><span class="w"></span>
<span class="w">            </span><span class="nt">password</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span><span class="w"></span>

<span class="w">            </span><span class="c1"># Port of the SMTP server</span><span class="w"></span>
<span class="w">            </span><span class="nt">port</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">587</span><span class="w"></span>

<span class="w">            </span><span class="c1"># Should we communicate with SMTP server via TLS?</span><span class="w"></span>
<span class="w">            </span><span class="nt">tls</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>

<span class="w">            </span><span class="c1"># User to authenticate to the SMTP server</span><span class="w"></span>
<span class="w">            </span><span class="nt">user</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span><span class="w"></span>

<span class="w">        </span><span class="c1"># Email patterns that will be allowed to</span><span class="w"></span>
<span class="w">        </span><span class="c1">#  automatically signup for an account</span><span class="w"></span>
<span class="w">        </span><span class="nt">valid_email_patterns</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">.*</span><span class="w"></span>
<span class="w">        </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">.*@localhost</span><span class="w"></span>
</code></pre></div>
</details>
<h3 id="ldap-authentication">LDAP Authentication<a class="headerlink" href="#ldap-authentication" title="Permanent link">&para;</a></h3>
<p>The configuration block at <code>auth.ldap</code> allows you to easily add authentication via your LDAP server. The LDAP authentication module will be able to automatically assign roles, classification, avatar, name, and email address based on the properties of the LDAP user and the groups it is a member of.</p>
<p>Here is an example configuration block to add to your configuration file that will allow you to connect to the docker-test-openldap server from: <a href="https://github.com/rroemhild/docker-test-openldap">https://github.com/rroemhild/docker-test-openldap</a></p>
<details class="example" open="open">
<summary>LDAP configuration example</summary>
<div class="highlight"><pre><span></span><code><span class="nt">auth</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">internal</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="c1"># Disable internal login, you could also leave it on if you want</span><span class="w"></span>
<span class="w">        </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span><span class="w"></span>
<span class="w">    </span><span class="nt">ldap</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="c1"># Should LDAP be enabled or not?</span><span class="w"></span>
<span class="w">        </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>

<span class="w">        </span><span class="c1"># DN of the group or the user who will get admin privileges</span><span class="w"></span>
<span class="w">        </span><span class="nt">admin_dn</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cn=admin_staff,ou=people,dc=planetexpress,dc=com</span><span class="w"></span>

<span class="w">        </span><span class="c1"># Auto-create users if they are missing, this means</span><span class="w"></span>
<span class="w">        </span><span class="c1">#  that if a user exists in LDAP, Assemblyline will create an</span><span class="w"></span>
<span class="w">        </span><span class="c1">#  account for it upon the first login</span><span class="w"></span>
<span class="w">        </span><span class="nt">auto_create</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>

<span class="w">        </span><span class="c1"># Should we automatically sync roles, classification, avatar</span><span class="w"></span>
<span class="w">        </span><span class="c1">#  email, name... with the LDAP server upon each login?</span><span class="w"></span>
<span class="w">        </span><span class="nt">auto_sync</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>

<span class="w">        </span><span class="c1"># Base DN for the users</span><span class="w"></span>
<span class="w">        </span><span class="nt">base</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ou=people,dc=planetexpress,dc=com</span><span class="w"></span>

<span class="w">        </span><span class="c1"># Password used to query the LDAP server</span><span class="w"></span>
<span class="w">        </span><span class="nt">bind_pass</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span><span class="w"></span>

<span class="w">        </span><span class="c1"># User use to query the LDAP server</span><span class="w"></span>
<span class="w">        </span><span class="nt">bind_user</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span><span class="w"></span>

<span class="w">        </span><span class="nt">classification_mappings</span><span class="p">:</span><span class="w"> </span><span class="p p-Indicator">{}</span><span class="w"></span>

<span class="w">        </span><span class="c1"># Name of the field containing the email address</span><span class="w"></span>
<span class="w">        </span><span class="nt">email_field</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">mail</span><span class="w"></span>

<span class="w">        </span><span class="c1"># How the group lookup is queried</span><span class="w"></span>
<span class="w">        </span><span class="nt">group_lookup_query</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">(&amp;(objectClass=Group)(member=%s))</span><span class="w"></span>

<span class="w">        </span><span class="c1"># Name of the field containing the user&#39;s avatar</span><span class="w"></span>
<span class="w">        </span><span class="nt">image_field</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">jpegPhoto</span><span class="w"></span>

<span class="w">        </span><span class="c1"># Type of image used to store the avatar</span><span class="w"></span>
<span class="w">        </span><span class="nt">image_format</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">jpeg</span><span class="w"></span>

<span class="w">        </span><span class="c1"># Name of the field containing the user&#39;s name</span><span class="w"></span>
<span class="w">        </span><span class="nt">name_field</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">cn</span><span class="w"></span>

<span class="w">        </span><span class="c1"># DN of the group or the user who will get signature_importer role</span><span class="w"></span>
<span class="w">        </span><span class="nt">signature_importer_dn</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span><span class="w"></span>

<span class="w">        </span><span class="c1"># DN of the group or the user who will get signature_manager role</span><span class="w"></span>
<span class="w">        </span><span class="nt">signature_manager_dn</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span><span class="w"></span>

<span class="w">        </span><span class="c1"># Field name for the UID</span><span class="w"></span>
<span class="w">        </span><span class="nt">uid_field</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">uid</span><span class="w"></span>

<span class="w">        </span><span class="c1"># URI to the LDAP server</span><span class="w"></span>
<span class="w">        </span><span class="nt">uri</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">ldaps://&lt;ldap_ip_or_domain&gt;:636</span><span class="w"></span>
</code></pre></div>
</details>
<h3 id="oauth-authentication">OAuth Authentication<a class="headerlink" href="#oauth-authentication" title="Permanent link">&para;</a></h3>
<p>The configuration block at <code>auth.oauth</code> allows you to add OAuth authentication to your system. Assemblyline OAuth module is configurable enough to allow you to use almost any OAuth provider.</p>
<p>It has been thoroughly tested with:</p>
<ul>
<li><a href="https://account.microsoft.com/account">Microsoft Accounts</a></li>
<li><a href="https://www.google.com/account/about/">Google Accounts</a></li>
<li><a href="https://auth0.com/">Auth0</a></li>
<li><a href="https://docs.microsoft.com/azure/active-directory/">Microsoft Azure Active Directory Accounts</a></li>
</ul>
<p>Here is an exhaustive configuration block that explains every single parameter from the OAuth configuration block:</p>
<details class="example" open="open">
<summary>Exhaustive OAuth configuration example</summary>
<div class="highlight"><pre><span></span><code><span class="nt">auth</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">internal</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="c1"># Disable internal login, you could also leave it on if you want</span><span class="w"></span>
<span class="w">        </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span><span class="w"></span>
<span class="w">    </span><span class="nt">oauth</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="c1"># Should OAuth authentication be enabled or not</span><span class="w"></span>
<span class="w">        </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>

<span class="w">        </span><span class="c1"># Should we try to pull the user&#39;s avatar using gravatar</span><span class="w"></span>
<span class="w">        </span><span class="nt">gravatar_enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span><span class="w"></span>

<span class="w">        </span><span class="c1"># OAuth providers configuration block, you can have as many OAuth</span><span class="w"></span>
<span class="w">        </span><span class="c1">#  providers as you want</span><span class="w"></span>
<span class="w">        </span><span class="nt">providers</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="c1"># Name of the provider displayed in the UI</span><span class="w"></span>
<span class="w">            </span><span class="nt">local_provider</span><span class="p">:</span><span class="w"></span>
<span class="w">                </span><span class="c1"># Auto-create users if they are missing, this means</span><span class="w"></span>
<span class="w">                </span><span class="c1">#  that if a user exists in the OAuth provider, Assemblyline</span><span class="w"></span>
<span class="w">                </span><span class="c1">#  will create an account for it upon the first login</span><span class="w"></span>
<span class="w">                </span><span class="c1">#     WARNING: If you set it to true for let&#39;s say Google&#39;s</span><span class="w"></span>
<span class="w">                </span><span class="c1">#              OAuth provider, anyone with a google account</span><span class="w"></span>
<span class="w">                </span><span class="c1">#              essentially has access to your system</span><span class="w"></span>
<span class="w">                </span><span class="nt">auto_create</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>

<span class="w">                </span><span class="c1"># Should we automatically sync roles, classification, avatar</span><span class="w"></span>
<span class="w">                </span><span class="c1">#  email, name... with the OAuth provider upon each login?</span><span class="w"></span>
<span class="w">                </span><span class="nt">auto_sync</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>

<span class="w">                </span><span class="c1"># Automatic role and classification assignments</span><span class="w"></span>
<span class="w">                </span><span class="nt">auto_properties</span><span class="p">:</span><span class="w"></span>
<span class="w">                    </span><span class="c1"># any user with a @localhost.local email will be given</span><span class="w"></span>
<span class="w">                    </span><span class="c1">#  TLP:Amber classification</span><span class="w"></span>
<span class="w">                    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">field</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">email</span><span class="w"></span>
<span class="w">                      </span><span class="nt">pattern</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">.*@localhost\.local$</span><span class="w"></span>
<span class="w">                      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">classification</span><span class="w"></span>
<span class="w">                      </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;TLP:A&quot;</span><span class="w"></span>
<span class="w">                    </span><span class="c1"># any user within the admins-sg will be made</span><span class="w"></span>
<span class="w">                    </span><span class="c1">#  administrator in the system</span><span class="w"></span>
<span class="w">                    </span><span class="p p-Indicator">-</span><span class="w"> </span><span class="nt">field</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">groups</span><span class="w"></span>
<span class="w">                      </span><span class="nt">pattern</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">^admins-sg$</span><span class="w"></span>
<span class="w">                      </span><span class="nt">type</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">role</span><span class="w"></span>
<span class="w">                      </span><span class="nt">value</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">admin</span><span class="w"></span>

<span class="w">                </span><span class="c1"># URL used to get the access token</span><span class="w"></span>
<span class="w">                </span><span class="nt">access_token_url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://oauth2.localhost/token</span><span class="w"></span>

<span class="w">                </span><span class="c1"># Base URL for downloading the user&#39;s and groups info</span><span class="w"></span>
<span class="w">                </span><span class="nt">api_base_url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://openidconnect.localhost/</span><span class="w"></span>

<span class="w">                </span><span class="c1"># URL used to authorize access to a resource</span><span class="w"></span>
<span class="w">                </span><span class="nt">authorize_url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://localhost/oauth2/auth</span><span class="w"></span>

<span class="w">                </span><span class="c1"># ID of your application to authenticate to the OAuth</span><span class="w"></span>
<span class="w">                </span><span class="c1">#  provider</span><span class="w"></span>
<span class="w">                </span><span class="nt">client_id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span><span class="w"></span>

<span class="w">                </span><span class="c1"># Password to your application to authenticate to the</span><span class="w"></span>
<span class="w">                </span><span class="c1">#  OAuth provider</span><span class="w"></span>
<span class="w">                </span><span class="nt">client_secret</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span><span class="w"></span>

<span class="w">                </span><span class="c1"># Keyword arguments passed to the different URLs</span><span class="w"></span>
<span class="w">                </span><span class="c1">#  (to set the scope for example)</span><span class="w"></span>
<span class="w">                </span><span class="nt">client_kwargs</span><span class="p">:</span><span class="w"></span>
<span class="w">                    </span><span class="nt">scope</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">openid email profile</span><span class="w"></span>

<span class="w">                </span><span class="c1"># URL used to verify if a returned JWKS token is valid</span><span class="w"></span>
<span class="w">                </span><span class="nt">jwks_uri</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://localhost/oauth2/certs</span><span class="w"></span>

<span class="w">                </span><span class="c1"># Name of the field that will contain the user ID</span><span class="w"></span>
<span class="w">                </span><span class="nt">uid_field</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">uid</span><span class="w"></span>

<span class="w">                </span><span class="c1"># Should we generate a random username for the</span><span class="w"></span>
<span class="w">                </span><span class="c1">#  authenticated user?</span><span class="w"></span>
<span class="w">                </span><span class="nt">uid_randomize</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span><span class="w"></span>

<span class="w">                </span><span class="c1"># How many digits should we add at the end of the username?</span><span class="w"></span>
<span class="w">                </span><span class="nt">uid_randomize_digits</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">0</span><span class="w"></span>

<span class="w">                </span><span class="c1"># What is the delimiter used by the random name generator?</span><span class="w"></span>
<span class="w">                </span><span class="nt">uid_randomize_delimiter</span><span class="p">:</span><span class="w"> </span><span class="s">&quot;-&quot;</span><span class="w"></span>

<span class="w">                </span><span class="c1"># Reged used to parse and email address and capture parts</span><span class="w"></span>
<span class="w">                </span><span class="c1">#  to create a user ID out of it</span><span class="w"></span>
<span class="w">                </span><span class="nt">uid_regex</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">^(.*)@(\w*).*$</span><span class="w"></span>

<span class="w">                </span><span class="c1"># Format of the user ID based on the captured parts from the regex</span><span class="w"></span>
<span class="w">                </span><span class="nt">uid_format</span><span class="p">:</span><span class="w"> </span><span class="s">&#39;{}-{}&#39;</span><span class="w"></span>

<span class="w">                </span><span class="c1"># Should we use the new callback method?</span><span class="w"></span>
<span class="w">                </span><span class="nt">use_new_callback_format</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>

<span class="w">                </span><span class="c1"># Path from the base_url to fetch the user info</span><span class="w"></span>
<span class="w">                </span><span class="nt">user_get</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">user/info</span><span class="w"></span>

<span class="w">                </span><span class="c1"># Path from the base to fetch the group info</span><span class="w"></span>
<span class="w">                </span><span class="nt">user_groups</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">group/info</span><span class="w"></span>

<span class="w">                </span><span class="c1"># Field return by the group info API call that contains the</span><span class="w"></span>
<span class="w">                </span><span class="c1">#  list of groups</span><span class="w"></span>
<span class="w">                </span><span class="nt">user_groups_data_field</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span><span class="w"></span>

<span class="w">                </span><span class="c1"># Name of the field in the list of groups that contains the</span><span class="w"></span>
<span class="w">                </span><span class="c1">#  name of the group</span><span class="w"></span>
<span class="w">                </span><span class="nt">user_groups_name_field</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">null</span><span class="w"></span>
</code></pre></div>
</details>
<p>Here is an example configuration block that would let you use Auth0 if you would change your <code>client_id</code> and <code>client_secret</code> and that you would change the <code>tenant_name</code> to yours:</p>
<details class="example" open="open">
<summary>Auth0 configuration example</summary>
<div class="highlight"><pre><span></span><code><span class="nt">auth</span><span class="p">:</span><span class="w"></span>
<span class="w">    </span><span class="nt">internal</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="c1"># Disable internal login, you could also leave it on if you want</span><span class="w"></span>
<span class="w">        </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">false</span><span class="w"></span>
<span class="w">    </span><span class="nt">oauth</span><span class="p">:</span><span class="w"></span>
<span class="w">        </span><span class="c1"># Enable oAuth</span><span class="w"></span>
<span class="w">        </span><span class="nt">enabled</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>

<span class="w">        </span><span class="c1"># Setup the auto0 provider</span><span class="w"></span>
<span class="w">        </span><span class="nt">providers</span><span class="p">:</span><span class="w"></span>
<span class="w">            </span><span class="nt">auth0</span><span class="p">:</span><span class="w"></span>
<span class="w">                </span><span class="c1"># It is safe to auto-create users here</span><span class="w"></span>
<span class="w">                </span><span class="c1"># because it is your OAuth tenant</span><span class="w"></span>
<span class="w">                </span><span class="nt">auto_create</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>
<span class="w">                </span><span class="nt">auto_sync</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">true</span><span class="w"></span>

<span class="w">                </span><span class="c1"># Put your client ID and secret here</span><span class="w"></span>
<span class="w">                </span><span class="nt">client_id</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;YOUR_CLIENT_ID&gt;</span><span class="w"></span>
<span class="w">                </span><span class="nt">client_secret</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">&lt;YOUR_CLIENT_SECRET&gt;</span><span class="w"></span>

<span class="w">                </span><span class="nt">client_kwargs</span><span class="p">:</span><span class="w"></span>
<span class="w">                    </span><span class="nt">scope</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">openid email profile</span><span class="w"></span>

<span class="w">                </span><span class="c1"># Set your tenant&#39;s name in the following URLs</span><span class="w"></span>
<span class="w">                </span><span class="nt">access_token_url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://&lt;TENANT_NAME&gt;.auth0.com/oauth/token</span><span class="w"></span>
<span class="w">                </span><span class="nt">api_base_url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://&lt;TENANT_NAME&gt;.auth0.com/</span><span class="w"></span>
<span class="w">                </span><span class="nt">authorize_url</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://&lt;TENANT_NAME&gt;.auth0.com/authorize</span><span class="w"></span>
<span class="w">                </span><span class="nt">jwks_uri</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">https://&lt;TENANT_NAME&gt;.auth0.com/.well-known/jwks.json</span><span class="w"></span>

<span class="w">                </span><span class="nt">user_get</span><span class="p">:</span><span class="w"> </span><span class="l l-Scalar l-Scalar-Plain">userinfo</span><span class="w"></span>
</code></pre></div>
</details>
                
              
              
                


              
            </article>
          </div>
        </div>
        
          <a href="#" class="md-top md-icon" data-md-component="top" data-md-state="hidden">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"/></svg>
            Back to top
          </a>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        
        <a href="../config_file/" class="md-footer__link md-footer__link--prev" aria-label="Previous: Configuration YAML file" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Configuration YAML file
            </div>
          </div>
        </a>
      
      
        
        <a href="../core/" class="md-footer__link md-footer__link--next" aria-label="Next: Core component section" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Core component section
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
        
          Made with
          <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
            Material for MkDocs
          </a>
        
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../../../..", "features": ["navigation.tabs", "navigation.expand", "navigation.top"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing", "select.version.title": "Select version"}, "search": "../../../../assets/javascripts/workers/search.fcfe8b6d.min.js", "version": null}</script>
    
    
      <script src="../../../../assets/javascripts/bundle.b1047164.min.js"></script>
      
        <script src="https://cdnjs.cloudflare.com/ajax/libs/tablesort/5.2.1/tablesort.min.js"></script>
      
        <script src="../../../../javascripts/tables.js"></script>
      
    
  </body>
</html>